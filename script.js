$(function(){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},b,d,h,k=$("body"),f=$("html, body, .pure-g, #create-form"),c=$(".wrapper"),e=c.length?c:k,l=function(a,b,d,h){var g=a.first().clone();0<b-17&&(b-=17);var c=Math.round(a.length*b*3/4/100);0<b-c&&(b-=c);g.css("height",d+"px");g.css("width",b+"px");g.html(h);g.appendTo(e);try{textFit(g,{detectMultiLine:!1,minFontSize:1,maxFontSize:1E3});var f=g.find("span").css("font-size");a.css("font-size",f);a.css("line-height",
a.first().height()+"px")}catch(u){p()}g.remove()},m=function(a){a=$("#"+a+":visible");a.length&&l(a,a.width(),a.height(),a.text())},q=function(){var b=$("#name");if(b.is(":visible")){var d=String(b.html()).replace(/[&<>"'\/]/g,function(b){return a[b]});l(b,b.width(),b.height(),d)}},r=function(){var a=$(".unit_value:visible");if(a.length){var b="";a.each(function(){b+=$(this).text()});l(a,$(".counter-wrapper").width(),a.first().height(),b)}},t=function(){var a=$(".unit_name:visible");if(a.length){var b=
$(".unit_value:visible").not(".colon .unit_value").not("#id_sign"),d="",c=Infinity;a.each(function(){$(this).text().length>d.length&&(d=$(this).text())});b.each(function(){$(this).width()<c&&(c=$(this).width())});c+=17;l(a,c,a.first().height(),d)}},n=function(){f.css("overflow","hidden");q();r();t();m("value-wrapper");m("clock-time");m("clock-date");f.css("overflow","visible")},p=function(){clearTimeout(b);clearTimeout(d);clearTimeout(h);b=setTimeout(function(){d=setTimeout(function(){h=setTimeout(function(){n()},
500);n()},100);n()},50)};window.fit_fonts=p});
$(function(){var a=function(){};a.prototype.ajax_now_initialized=!1;a.prototype.init_client_dt=null;a.prototype.init_server_dt=null;a.prototype.old_text="";a.prototype.tick_interval=null;a.prototype.constructor=a;a.prototype.failure_callback=function(a){};a.prototype.init_vars=function(){};a.prototype.tick=function(){};a.prototype.now=function(){return new Date-this.init_client_dt+this.init_server_dt};a.prototype.is_displayed=function(a){return"none"!=a.css("display")};a.prototype.init_now=function(){this.init_client_dt=
new Date;this.init_server_dt=(new Date).getTime();this.ajax_now_initialized=!0;this.run()};a.prototype.run=function(){clearInterval(this.tick_interval);if(this.init_server_dt){this.tick();var a=this;this.tick_interval=window.setInterval(function(){a.tick()},50)}else this.failure_callback();window.fit_fonts();$(window).resize(window.fit_fonts)};a.prototype.init=function(){this.init_vars();this.ajax_now_initialized?this.run():this.init_now()};window.Counter=a});
$(function(){var a=function(){Counter.prototype.constructor.call(this)};a.prototype=new Counter;a.prototype.constructor=a;a.prototype.default_title=null;a.prototype.is_tab_active=null;a.prototype.smallest_value=null;a.prototype.UNITS=null;a.prototype.$minus_sign=null;a.prototype.init_vars=function(){this.UNITS=[];this.$minus_sign=$("#minus_sign");this.default_title=document.title;this.is_tab_active=!0;this.is_displayed($("#year_wrapper"))&&this.UNITS.push({element:$("#year"),value:315576E5,zfill:!1});
this.is_displayed($("#month_wrapper"))&&this.UNITS.push({element:$("#month"),value:26298E5,zfill:!1});this.is_displayed($("#week_wrapper"))&&this.UNITS.push({element:$("#week"),value:6048E5,zfill:!1});this.is_displayed($("#day_wrapper"))&&this.UNITS.push({element:$("#day"),value:864E5,zfill:!1});this.is_displayed($("#hour_wrapper"))&&this.UNITS.push({element:$("#hour"),value:36E5,zfill:!0});this.is_displayed($("#minute_wrapper"))&&this.UNITS.push({element:$("#minute"),value:6E4,zfill:!0});this.is_displayed($("#second_wrapper"))&&
this.UNITS.push({element:$("#second"),value:1E3,zfill:!0});this.smallest_value=this.UNITS[this.UNITS.length-1].value;for(var a=0;a<this.UNITS.length-1;++a)$("#colon_"+this.UNITS[a].element.attr("id")).css("display","inline-block")};a.prototype.refresh=function(a,d){for(var b="",k=[],f=0;f<this.UNITS.length;++f){var c=this.UNITS[f],e=Math.abs(d(a/c.value));a%=c.value;c.zfill&&(e=10>e?"0"+e:e);c.element.html("&#8201;"+e+"&#8201;");b+=e;k.push(e)}this.is_displayed(this.$minus_sign)&&(b+="-&#8201;");
document.title=!this.is_tab_active&&0<=a?"["+k.join(":")+"] "+this.default_title:this.default_title;this.old_text.length!==b.length&&window.fit_fonts();this.old_text=b};a.prototype.init=function(a){var b=this;this.target=a;$(window).focus(function(){b.is_tab_active=!0;document.title=b.default_title});$(window).blur(function(){b.is_tab_active=!1});Counter.prototype.init.call(this)};window.CountX=a});
$(function(){var a=function(){CountX.prototype.constructor.call(this)};a.prototype=new CountX;a.prototype.constructor=a;a.prototype.alarm_played=null;a.prototype.$alarm=null;a.prototype.init_vars=function(){this.alarm_played=!1;this.$alarm=$("#alarm");CountX.prototype.init_vars.call(this)};a.prototype.tick=function(){var a=this.target-this.now();!this.alarm_played&&a<this.smallest_value&&a>-this.smallest_value&&(this.$alarm.attr("src","/static/alarm.mp3"),this.$alarm.get(0).play(),this.alarm_played=
!0);0<=a?(this.$minus_sign.hide(),this.refresh(a,Math.floor)):this.stop_on_finish?this.refresh(0,Math.ceil):(this.$minus_sign.show().css("display","inline-block"),this.refresh(a,Math.ceil))};a.prototype.init=function(a,d){this.stop_on_finish=d;CountX.prototype.init.call(this,a)};a=new a;window.countdown=a.init.bind(a);countdown(15572016E5,!0)});
